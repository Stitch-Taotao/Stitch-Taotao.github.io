<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="桑尼号&好尼桑" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="嘿嘿，我的小窝">
<meta property="og:type" content="website">
<meta property="og:title" content="桑尼号&amp;好尼桑">
<meta property="og:url" content="http://sangnihao.com/index.html">
<meta property="og:site_name" content="桑尼号&amp;好尼桑">
<meta property="og:description" content="嘿嘿，我的小窝">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="桑尼号&amp;好尼桑">
<meta name="twitter:description" content="嘿嘿，我的小窝">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://sangnihao.com/"/>





  <title>桑尼号&好尼桑</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">桑尼号&好尼桑</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">海贼王？唔里洼那鲁！</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://sangnihao.com/2017/08/20/整理sqlite知识/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="涛涛">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="桑尼号&好尼桑">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/20/整理sqlite知识/" itemprop="url">整理sqlite知识</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-20T03:21:01+08:00">
                2017-08-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="sqlite有用的链接"><a href="#sqlite有用的链接" class="headerlink" title="sqlite有用的链接"></a>sqlite有用的链接</h3><ul>
<li><a href="http://www.runoob.com/sqlite/sqlite-data-types.html" target="_blank" rel="external">菜鸟教程</a></li>
<li><a href="https://sqliteonline.com/" target="_blank" rel="external">sqliteonline在线调试</a></li>
<li><a href="http://www.cnblogs.com/CSharpLover/p/5193698.html" target="_blank" rel="external">关于Type Affinity类型的理解</a></li>
</ul>
<h3 id="值得注意的细节"><a href="#值得注意的细节" class="headerlink" title="值得注意的细节"></a>值得注意的细节</h3><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">sqlite_master 表格</div><div class="line">	主表中保存数据库表的关键信息，并把它命名为 sqlite_master。如要查看表概要，可按如下操作：</div><div class="line">sqlite&gt;.schema sqlite_master</div><div class="line">这将产生如下结果：</div><div class="line">CREATE TABLE sqlite_master (</div><div class="line">  type text,</div><div class="line">  name text,</div><div class="line">  tbl_name text,</div><div class="line">  rootpage integer,</div><div class="line">  sql text</div><div class="line">);</div></pre></td></tr></table></figure>
<hr>
<h3 id="疑问？"><a href="#疑问？" class="headerlink" title="疑问？"></a>疑问？</h3><ol>
<li>什么是主数据库，什么是附加数据库？且测试时语法错误？<ul>
<li>数据库名称 main 和 temp 被保留用于主数据库和存储临时表及其他临时数据对象的数据库。这两个数据库名称可用于每个数据库连接，且不应该被用于附加</li>
</ul>
</li>
<li>怎么单独打开数据库，操作之前生成的.db文件呢？</li>
<li></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://sangnihao.com/2017/06/25/最近学习一/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="涛涛">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="桑尼号&好尼桑">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/25/最近学习一/" itemprop="url">最近学习一</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-25T22:38:57+08:00">
                2017-06-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="关于-IBInspectable-和-IBDesignable"><a href="#关于-IBInspectable-和-IBDesignable" class="headerlink" title="关于 IBInspectable 和 IBDesignable"></a>关于 IBInspectable 和 IBDesignable</h2><p><a href="http://nshipster.cn/ibinspectable-ibdesignable/" target="_blank" rel="external">IBInspectable / IBDesignable</a></p>
<ol>
<li><code>IBInspectable</code>、<code>IB_DESIGNABLE</code> 标记 OC ；<code>@IBInspectable</code> 、<code>@IBDesignable</code> 标记Swift。</li>
<li>任何问题都是可避开编译和运行整个程序来调试的。调试的方法很简单，只需在你的代码中设置一个断点，在 Interface Builder 中选择视图，并选择 Editor ➔ Debug Selected Views。</li>
<li><p>由于在 Interface Builder 中呈现自定义视图不会有应用程序的完整上下文，你可能需要生成模拟数据以便显示，例如一个默认用户头像图片或仿制的天气数据。有两种方法可以为这个特殊的上下文添加代码：</p>
<ul>
<li>prepareForInterfaceBuilder()：此方法与你代码的其余部分一起编译，但只有当视图正在准备在 Interface Builder 显示时执行。</li>
<li><p>TARGET_INTERFACE_BUILDER：#if TARGET_INTERFACE_BUILDER 预处理宏在 Objective-C 或 Swift 下都是工作的，它会视情况编译正确代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">	#if !TARGET_INTERFACE_BUILDER</div><div class="line">    // this code will run in the app itself</div><div class="line">#else</div><div class="line">    // this code will execute only in IB</div><div class="line">#endif</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<p><a href="http://honglu.me/2016/02/25/%E5%A6%82%E4%BD%95%E8%AE%A9%E8%87%AA%E5%AE%9A%E4%B9%89UIView%E6%94%AF%E6%8C%81XIB/" target="_blank" rel="external">如何让自定义 UIView 支持 XIB</a></p>
<p><a href="http://www.jianshu.com/p/a5351d270ac1" target="_blank" rel="external">关于IB_DESIGNABLE / IBInspectable的那些需要注意的事</a></p>
<h3 id="问题："><a href="#问题：" class="headerlink" title="问题："></a>问题：</h3><ol>
<li>对于UIView的分类实现某些属性的可事实查看和可修改检查器没有用。不过会影响UIView的子类的绘制（例如之前MTLabel根本没有IB_DESIGNABLE但也会事实刷新）。</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://sangnihao.com/2017/06/21/UI界面优化相关/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="涛涛">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="桑尼号&好尼桑">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/21/UI界面优化相关/" itemprop="url">UI界面优化相关</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-21T01:26:38+08:00">
                2017-06-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li><a href="http://blog.ibireme.com/2015/11/12/smooth_user_interfaces_for_ios/#1" target="_blank" rel="external">YYKit大神总结：iOS 保持界面流畅的技巧</a></li>
<li><a href="https://stackoverflow.com/questions/25369046/destroy-object-in-background-thread-objective-c" target="_blank" rel="external">后台销毁大量对象的方法</a></li>
<li><p><a href="https://gist.github.com/steipete/1144242" target="_blank" rel="external">预先解压、后台解压UIImage</a></p>
<p> 3.1 <a href="https://github.com/pj4533/OpenPics" target="_blank" rel="external">这里有个例子，还没看</a></p>
<p> 3.2 <a href="https://www.cocoanetics.com/2011/10/avoiding-image-decompression-sickness/" target="_blank" rel="external">详细讲解了解压的原理</a></p>
<p> 3.3 <a href="https://gist.github.com/JmeHsieh/2002207" target="_blank" rel="external">代码片段</a>、<a href="http://orion98mc.blogspot.com/2012/08/on-ios-uiimage-decompression-nightmare.html" target="_blank" rel="external">代码片段</a></p>
<p> 3.4 <a href="http://www.splinter.com.au/2014/02/09/webp-decoding/" target="_blank" rel="external">小插曲：WebP格式的图片解压</a></p>
</li>
<li><p><a href="https://www.slideshare.net/rsebbe/2014-cocoaheads-advimaging" target="_blank" rel="external">Advanced Imaging on iOS</a></p>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://sangnihao.com/2017/05/31/Swift-需要注意的点/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="涛涛">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="桑尼号&好尼桑">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/31/Swift-需要注意的点/" itemprop="url">Swift 需要注意的点</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-31T16:10:24+08:00">
                2017-05-31
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/swift/" itemprop="url" rel="index">
                    <span itemprop="name">swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/swift/注意点/" itemprop="url" rel="index">
                    <span itemprop="name">注意点</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h2><h3 id="延迟属性"><a href="#延迟属性" class="headerlink" title="延迟属性"></a>延迟属性</h3><p>你必须把<strong>延迟存储属性</strong>声明为变量（使用 var 关键字），因为它的初始值可能在实例初始化完成之前无法取得。常量属性则必须在初始化完成之前有值，因此不能声明为延迟。</p>
<h3 id="属性观察者"><a href="#属性观察者" class="headerlink" title="属性观察者"></a>属性观察者</h3><ul>
<li><p>你可以为你定义的任意存储属性添加属性观察者，除了延迟存储属性。你也可以通过在子类里重写属性来为任何继承属性（无论是存储属性还是计算属性）添加属性观察者。</p>
</li>
<li><p>不过这里有一个问题是：比如我的父类可能监听name属性的变化做出了响应，子类重写父类的属性观察器，如何做到不响应父类的监听事件呢？（或者说如何灵活控制是否需要响应父类的监听事件）</p>
</li>
<li>你不需要为非重写的<strong>计算属性</strong>定义属性观察者，因为你可以在计算属性的设置器里直接观察和相应它们值的改变。（简单来说就是，有set、get方法的即是计算属性，如果计算属性不是重写的话，直接在set中就可以做相应的事情了）</li>
</ul>
<h3 id="Swift中的inout关键字"><a href="#Swift中的inout关键字" class="headerlink" title="Swift中的inout关键字"></a>Swift中的inout关键字</h3><p>swift中的inout关键字是按值传递的，然后再写回原变量，而不是按引用传递的：</p>
<blockquote>
<p>An in-out parameter has a value that is passed in to the function, is modified by the function, and is passed back out of the function to replace the original value.</p>
</blockquote>
<p>这样的好处在于它<strong>远比使用引用安全</strong>。首先举个最简单的例子看一看inout关键字怎么用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">func inc(inout i: Int) &#123;</div><div class="line">    ++i</div><div class="line">&#125;</div><div class="line"></div><div class="line">var x = 0</div><div class="line">inc(&amp;x)</div><div class="line">print(x)    // 输出结果：“1”</div></pre></td></tr></table></figure>
<p>对比一下另一种同样能在函数内部改变变量值的实现方式——闭包：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">func inc() -&gt; () -&gt; Int &#123;</div><div class="line">    var i = 0  //在inc函数内定义变量i</div><div class="line">    return &#123; ++i &#125;  // 闭包中截获变量i</div><div class="line">&#125;</div><div class="line"></div><div class="line">let f = inc()</div><div class="line">print(f()) // 输出结果：“1”</div><div class="line">print(f()) // 输出结果：“2”</div></pre></td></tr></table></figure>
<p>闭包是通过<strong>截获外部变量的引用</strong>从而实现对变量的修改的，我们通过闭包来证明，inout参数是按值传递的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">func inc(inout i: Int) -&gt; () -&gt; Int &#123;</div><div class="line">    return &#123; ++i &#125;  // 闭包中截获inout参数i</div><div class="line">&#125;</div><div class="line"></div><div class="line">var x = 0</div><div class="line">let f = inc(&amp;x)</div><div class="line">print(f()) // 输出结果：“1”</div><div class="line">print(x) // 输出结果：“0”</div></pre></td></tr></table></figure>
<p>如果<code>inout</code>参数是按引用传递，因为我们知道闭包会按引用截获变量，所以闭包内的<code>++i</code>语句实际上会影响到我们定义的变量x，因此最后一个输出的结果应该是1，但实际上运行结果是0。</p>
<p>这说明inout参数是按值传递的，我们梳理一下整个过程：</p>
<ul>
<li>首先变量x的值是0，它作为<code>inout</code>参数传入<code>inc</code>方法中，<code>inc</code>方法内有一个x的副本，闭包截获了这个副本的引用。</li>
<li>随后<code>inc</code>方法方法返回，此时的副本值还是0，所以外部的变量x的值为0。</li>
<li>接下来我们调用闭包，副本值被改为1，但是外部的变量x的值不会受到任何影响，所以它依然为0。</li>
</ul>
<p>如果在inc方法中返回闭包之前就调用这个闭包，那么外部的变量x的值就会被修改为1，这是因为在函数返回前，副本的值变成了1：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">func inc(inout i: Int) -&gt; () -&gt; Int &#123;</div><div class="line">    let f = &#123; ++i &#125;  // 闭包中截获inout参数i</div><div class="line">    f()</div><div class="line">    return f</div><div class="line">&#125;</div><div class="line"></div><div class="line">var x = 0</div><div class="line">let f = inc(&amp;x)</div><div class="line">print(x) // 输出结果：“1”</div></pre></td></tr></table></figure>
<h4 id="amp-并不总表示inout"><a href="#amp-并不总表示inout" class="headerlink" title="&amp;并不总表示inout"></a>&amp;并不总表示inout</h4><p>如果在函数声明中，参数是一个UnsafeMutablePointer的指针，那么传递参数的时候也要加上&amp;，这和inout参数看上去用法类似，但实际上这里是按引用传递而不是按值传递。我们可以改写一下之前的inc方法:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">func inc(i: UnsafeMutablePointer&lt;Int&gt;) -&gt; () -&gt; Int &#123;</div><div class="line">    //函数内存储指针i的副本，闭包截获这个副本</div><div class="line">    return &#123;</div><div class="line">        i.memory++</div><div class="line">        return i.memory</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这个方法的使用与之前类似。有兴趣的读者可以自行尝试。这里我们换一种调用方式，传入inc方法的参数不是整数地址，而是数组的地址：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">let f: () -&gt; Int</div><div class="line">do &#123;</div><div class="line">    var x = [0]</div><div class="line">    f = inc(&amp;x)</div><div class="line">&#125;</div><div class="line">print(f())</div></pre></td></tr></table></figure>
<p>为了与C兼容，Swift中的数组可以自动转成指针，但由于数组的地址不确定，所以这种写法其实会产生一种未定义行为(UB)。</p>
<p>需要注意的是，使用&amp;时，也许我们用的是Swift的inout语义，这是安全的，也许用的是UnsafeMutablePointer的指针，这需要我们格外小心。我们需要考虑它所指向的对象的生命周期。</p>
<p>参考来自<a href="http://www.jianshu.com/p/3fb6940e59cb" target="_blank" rel="external">bestswiftter</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://sangnihao.com/2017/05/29/一些UIKit下的枚举/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="涛涛">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="桑尼号&好尼桑">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/29/一些UIKit下的枚举/" itemprop="url">一些UIKit下的枚举</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-29T14:50:03+08:00">
                2017-05-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="UIBarMetrics"><a href="#UIBarMetrics" class="headerlink" title="UIBarMetrics"></a>UIBarMetrics</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">typedef enum UIBarMetrics : NSInteger &#123;</div><div class="line">    UIBarMetricsDefault,//默认情况下竖着拿手机的情况</div><div class="line">    UIBarMetricsCompact,//横屏的情况下</div><div class="line">    UIBarMetricsDefaultPrompt = 101,//指定有提示属性时的bars这些bars可能是UINavigationBar 和 UISearchBar。</div><div class="line">    UIBarMetricsCompactPrompt,//应该是横屏的情况下带有提示属性时。</div><div class="line">    UIBarMetricsLandscapePhone = UIBarMetricsCompact,//弃用了的枚举</div><div class="line">    UIBarMetricsLandscapePhonePrompt = UIBarMetricsCompactPrompt//弃用了的枚举</div><div class="line">&#125; UIBarMetrics;</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://sangnihao.com/2017/05/28/UIApearance/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="涛涛">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="桑尼号&好尼桑">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/28/UIApearance/" itemprop="url">UIApearance</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-28T20:31:59+08:00">
                2017-05-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UIKit/" itemprop="url" rel="index">
                    <span itemprop="name">UIKit</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UIKit/UIApearance/" itemprop="url" rel="index">
                    <span itemprop="name">UIApearance</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>在iOS 5以前，我们想去自定义系统控件的外观是一件麻烦的事。如果想统一地改变系统控件的外观，我们可能会想各种办法，如去继承现有的控件类，并在子类中修改，或者甚至于动用method swizzling这样高大上的方法。不过，苹果在iOS 5之后为我们提供了一种新的方法：UIAppearance，让这些事简单了不少。</p>
<h3 id="UIApearance的作用"><a href="#UIApearance的作用" class="headerlink" title="UIApearance的作用"></a>UIApearance的作用</h3><p>UIApearance是一个协议，我们可以用它来获取一个类的外观代理(appearance proxy)。有些非视图对象(如UIBarButtonItem)也可以实现这个协议，来定义其所包含的视图对象的外观。我们可以给这个类的外观代理发送一个修改消息，来自定义一个类的实例的外观。</p>
<p>以系统定义的控件UIButton为例，可以通过UIAppearance修改整个应用程序中所有UIButton的外观，也可以修改某一特定容器类中所有UIButton的外观(如UIBarButtonItem)。</p>
<p>不过需要注意的是，这种修改只会影响到那些执行UIAppearance操作之后添加到我们的视图层级架构中的视图或控件，而不会影响到修改之前就已经添加的对象。因此，如果要修改特定的视图，<strong>先确保该视图在使用UIAppearance后才通过addSubview添加到视图层级架构中</strong>。</p>
<h3 id="UIApearance的使用"><a href="#UIApearance的使用" class="headerlink" title="UIApearance的使用"></a>UIApearance的使用</h3><h4 id="1-针对某一个类的所有实例"><a href="#1-针对某一个类的所有实例" class="headerlink" title="1. 针对某一个类的所有实例"></a>1. 针对某一个类的所有实例</h4><p>例如，如果我们想修改UINavigationBar的所有实例的背影颜色和标题外观，则可以如下实现：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">UINavigationBar.appearance().barTintColor = UIColor(red: 104.0/255.0, green: 224.0/255.0, blue: 231.0/255.0, alpha: 1.0)</div><div class="line"> </div><div class="line">UINavigationBar.appearance().titleTextAttributes = [</div><div class="line">    NSFontAttributeName: UIFont.systemFontOfSize(15.0),</div><div class="line">    NSForegroundColorAttributeName: UIColor.whiteColor()</div><div class="line">]</div></pre></td></tr></table></figure>
<h4 id="2-指定一类容器，容器中所有该类的实例的外观。"><a href="#2-指定一类容器，容器中所有该类的实例的外观。" class="headerlink" title="2. 指定一类容器，容器中所有该类的实例的外观。"></a>2. 指定一类容器，容器中所有该类的实例的外观。</h4><p>例如，我们想修改导航栏中所有的按钮的外面，则可以如下处理：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">[[UIBarButtonItem appearanceWhenContainedIn:[UINavigationBar class], nil]</div><div class="line">   setBackgroundImage:myNavBarButtonBackgroundImage forState:state barMetrics:metrics];</div><div class="line"> </div><div class="line">[[UIBarButtonItem appearanceWhenContainedIn:[UINavigationBar class], [UIPopoverController class], nil]</div><div class="line">    setBackgroundImage:myPopoverNavBarButtonBackgroundImage forState:state barMetrics:metrics];</div><div class="line"> </div><div class="line">[[UIBarButtonItem appearanceWhenContainedIn:[UIToolbar class], nil]</div><div class="line">    setBackgroundImage:myToolbarButtonBackgroundImage forState:state barMetrics:metrics];</div><div class="line"> </div><div class="line">[[UIBarButtonItem appearanceWhenContainedIn:[UIToolbar class], [UIPopoverController class], nil]</div><div class="line">    setBackgroundImage:myPopoverToolbarButtonBackgroundImage forState:state barMetrics:metrics];</div></pre></td></tr></table></figure>
<p>注意这个方法的参数是一个可变参数,因此可以同时设置多个容器。</p>
<h3 id="关于支持UIAppearance的组件"><a href="#关于支持UIAppearance的组件" class="headerlink" title="关于支持UIAppearance的组件"></a>关于支持UIAppearance的组件</h3><p>Mattt Thompson在<a href="http://nshipster.com/uiappearance/" target="_blank" rel="external">UIApearance</a>中，给我们提供了以下两行脚本代码，可以获取所有支持<code>UI_APPEARANCE_SELECTOR</code>的方法(我们将在下面介绍<code>UI_APPEARANCE_SELECTOR)</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ cd /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS*.sdk/System/Library/Frameworks/UIKit.framework/Headers</div><div class="line"> </div><div class="line">$ grep -H UI_APPEARANCE_SELECTOR ./* | sed &apos;s/ __OSX_AVAILABLE_STARTING(__MAC_NA,__IPHONE_5_0) UI_APPEARANCE_SELECTOR;//&apos;</div></pre></td></tr></table></figure>
<p><a href="https://gist.github.com/mattt/5135521" target="_blank" rel="external">这里可以查看iOS7下支持<code>UI_APPEARANCE_SELECTOR)</code>的清单</a></p>
<h3 id="自定义类实现UIAppearance"><a href="#自定义类实现UIAppearance" class="headerlink" title="自定义类实现UIAppearance"></a>自定义类实现UIAppearance</h3><ol>
<li>让我们的类实现UIAppearanceContainer协议 （？？？这个应该是作为容器才需要吧）</li>
<li>如果是在Objective-C中，则将相关的方法用UI_APPEARANCE_SELECTOR来标记。而在Swift中，需要在对应的属性或方法前面加上dynamic。</li>
<li>当然，要让我们的类可以使用appearance(或appearanceWhenContainedInInstancesOfClasses)来获取自己的类，则还需要实现UIAppearance协议。</li>
</ol>
<p>👇<a href="http://www.cocoachina.com/ios/20150723/12671.html" target="_blank" rel="external">这个链接</a>中会有例子，来实现一个可以全局改变的RoundLabel</p>
<h3 id="对于-UIAppearanceContainer协议"><a href="#对于-UIAppearanceContainer协议" class="headerlink" title="对于 UIAppearanceContainer协议"></a>对于 UIAppearanceContainer协议</h3><p>在UIAppearanceContainer的官方文档中，有对支持UIAppearance的方法作格式限制，具体要求如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">// Swift</div><div class="line">func propertyForAxis1(axis1: IntegerType, axis2: IntegerType, axisN: IntegerType) -&gt; PropertyType</div><div class="line">func setProperty(property: PropertyType, forAxis1 axis1: IntegerType, axis2: IntegerType)</div><div class="line"> </div><div class="line">// OBJECTIVE-C</div><div class="line">- (PropertyType)propertyForAxis1:(IntegerType)axis1 axis2:(IntegerType)axis2 … axisN:(IntegerType)axisN;</div><div class="line">- (void)setProperty:(PropertyType)property forAxis1:(IntegerType)axis1 axis2:(IntegerType)axis2 … axisN:(IntegerType)axisN;</div></pre></td></tr></table></figure>
<p>其中的属性类型可以是iOS的任意类型，包括id, NSInteger, NSUInteger, CGFloat, CGPoint, CGSize, CGRect, UIEdgeInsets或UIOffset。而IntegerType必须是NSInteger或者NSUInteger。如果类型不对，则会抛出异常。</p>
<p>我们可以以<code>UIBarButtonItem</code>为例，它定义了以下方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">setTitlePositionAdjustment:forBarMetrics:</div><div class="line"> </div><div class="line">backButtonBackgroundImageForState:barMetrics:</div><div class="line"> </div><div class="line">setBackButtonBackgroundImage:forState:barMetrics:</div></pre></td></tr></table></figure>
<p>此处疑问？？？：怎么个遵守法呢？没明白。</p>
<h3 id="UIAppearance-中关于Trait-Collection"><a href="#UIAppearance-中关于Trait-Collection" class="headerlink" title="UIAppearance 中关于Trait Collection"></a>UIAppearance 中关于Trait Collection</h3><p>在iOS8后，新添加的API：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">// Swift</div><div class="line">static func appearanceForTraitCollection(_ trait: UITraitCollection) -&gt; Self</div><div class="line"> </div><div class="line">// Objective-C</div><div class="line">+ (instancetype)appearanceForTraitCollection:(UITraitCollection *)trait</div><div class="line"> </div><div class="line">+ (instancetype)appearanceForTraitCollection:(UITraitCollection *)trait</div><div class="line">                         whenContainedIn:(Class&lt;uiappearancecontainer&gt;)ContainerClass, ...&lt;/uiappearancecontainer&gt;</div></pre></td></tr></table></figure>
<p>这两个方法涉及到Trait Collection.</p>
<h3 id="深入分析UIApearance-的运作原理："><a href="#深入分析UIApearance-的运作原理：" class="headerlink" title="深入分析UIApearance 的运作原理："></a>深入分析UIApearance 的运作原理：</h3><p>具体查看<a href="http://www.cocoachina.com/ios/20150723/12671.html" target="_blank" rel="external">这里的分析</a></p>
<h3 id="作者遗留的问题："><a href="#作者遗留的问题：" class="headerlink" title="作者遗留的问题："></a>作者遗留的问题：</h3><ol>
<li>在swift中如何正确地使用appearanceWhenContainedInInstancesOfClasses方法？我在stackoverflow中没有找到答案。</li>
<li>iOS内部是如何用UIAppearance设置的信息来在运行时替换默认的设置的？</li>
</ol>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p>使用UIAppearance，可以让我们方便地去修改一些视图或控件的默认显示。如果我们打算开发一个视图库，也可能会用到相关的内容。我们可以在库的内部自定义一些UIAppearance的规则来代替手动去修改视图外观。这样，库外部就可以方便的通过UIAppearance来整体修改一个类中视图的外观了。</p>
<p>github中关于这样的开源库：<a href="https://github.com/robertwijas/UISS" target="_blank" rel="external">UISS</a>,可以研究一下。</p>
<p>参考：<a href="http://www.cocoachina.com/ios/20150723/12671.html" target="_blank" rel="external">自定义系统控件的外观：UIApearance</a></p>
<p><a href="http://blog.sina.com.cn/s/blog_9693f61a0101f1rs.html" target="_blank" rel="external">iOS UIAppearance使用详解</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://sangnihao.com/2017/05/27/UIImageAsset/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="涛涛">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="桑尼号&好尼桑">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/27/UIImageAsset/" itemprop="url">UIImageAsset</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-27T20:55:59+08:00">
                2017-05-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UIImage/" itemprop="url" rel="index">
                    <span itemprop="name">UIImage</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UIImage/UIImageAsset/" itemprop="url" rel="index">
                    <span itemprop="name">UIImageAsset</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="关于asset-catalog（Assets-xcassets）"><a href="#关于asset-catalog（Assets-xcassets）" class="headerlink" title="关于asset catalog（Assets.xcassets）"></a>关于asset catalog（Assets.xcassets）</h3><p>大多数情况下我们不会使用UIImageAsset,而是直接用asset catalog（也就是资产目录项目中的Assets.xcassets文件）</p>
<p>Assets.xcassets在app打包后，会以Assets.car文件的形式出现在main bundle中。另外需要注意的是：其中的图片资源只能通过UIimage的imageNamed:方法加载，通过NSBundle的pathForResource:ofType:无法获得图片路径。</p>
<p>我们对Assets.xcassets中的图片进行（sliced、或者配置分辨率、traitCollection等会反应到Contents.json文件中，这些操作被保存其中，如果直接从其他项目拖过来的话要注意是否是需要已加工后的图）</p>
<p>关于<a href="http://www.cnblogs.com/patientAndPersist/p/4425401.html" target="_blank" rel="external">Asset Catalog Help</a></p>
<h3 id="UIImageAsset及应用"><a href="#UIImageAsset及应用" class="headerlink" title="UIImageAsset及应用"></a>UIImageAsset及应用</h3><p>UIImageAsset，在iOS 8中引出，仅仅是资产目录（asset catalog）中的图像集的潜在的机制。</p>
<p>举个例来说：资产目录可以区分用于不同size class情况的图像的版本，当你在界面中使用注册到UIImageAsset中的图像时，会自动发生正确的事情（指的是在不同的UITraitCollection的情况下）。</p>
<p>在iPhone中，当我们将应用程序旋转到横向的时候，如果图像集中同时具有Any height 和Compact height版本的图片的时候，则使用Compact版本的图片。反之当程序从横向旋转到纵向的时候，将会使用Any height版本。</p>
<p>对于asset catalog（资产目录）里的图片（直接放入mainbundle的图片不清楚init（name：）时是否具有imageAsset），当通过init（名称:)和其映像集的名称从资产目录中提取图像时，其imageAsset属性是UIImageAsset。该图像集中的所有图像都可通过UIImageAsset获得;每个图像都有一个与它相关联的trait集合（它的traitCollection），你可以通过调用imageWithTraitCollection来询问UIImageAsset(<strong>注意多个image对应一个imageAsset</strong>)的图像是否适合特定的trait集合。事实上，这正是界面正在为你做的。可以显示图像的界面对象在iOS 8中自动发现收藏感知;它收到traitCollectionDidChange：消息并作出相应响应（如UIImageView会自动处理traitColletcion发生变化时候切换对应特征的图像）。</p>
<p>然而，也可以将图像组合到您自己的UIImageAsset中。在某种程度上，这就像在代码中制作资产目录（或至少一个图像集）！在这个例子中，我将从应用程序包中获取两个图像，并配置它们，以便在应用程序处于纵向方向时自动被使用，另一个在应用程序是横向定向时自动使用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">let tcdisp = UITraitCollection(displayScale: UIScreen.mainScreen().scale)</div><div class="line">let tcphone = UITraitCollection(userInterfaceIdiom: .Phone)</div><div class="line">let tcreg = UITraitCollection(verticalSizeClass: .Regular)</div><div class="line">let tc1 = UITraitCollection(traitsFromCollections: [tcdisp, tcphone, tcreg])</div><div class="line">let tccom = UITraitCollection(verticalSizeClass: .Compact)</div><div class="line">let tc2 = UITraitCollection(traitsFromCollections: [tcdisp, tcphone, tccom])</div><div class="line">let moods = UIImageAsset()</div><div class="line">let frowney = UIImage(named:&quot;frowney&quot;)</div><div class="line">let smiley = UIImage(named:&quot;smiley&quot;)</div><div class="line">moods.registerImage(frowney, withTraitCollection: tc1)</div><div class="line">moods.registerImage(smiley, withTraitCollection: tc2)</div></pre></td></tr></table></figure>
<p>之后呢，如果<code>frowney</code>被放在界面中，比如放在UIImageView中或者UIButton中，它将在app旋转的时候自动地选择使用<code>smiley</code></p>
<p>值得注意的是，这个魔法甚至没有持久化引用<code>frowney</code>, <code>smiley</code>或者、UIImageAsset（moods）。原因是<code>frowney</code>, <code>smiley</code>被系统缓存了（因为使用了init(named:)方法）。并且它们自己维持了对它们所注册到的UIImageAsset的强引用。</p>
<h3 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h3><p><a href="https://stackoverflow.com/questions/25716128/how-to-use-create-and-use-a-uiimageasset-in-ios-8" target="_blank" rel="external">How to use create and use a UIImageAsset in iOS 8 </a></p>
<p><a href="http://www.jianshu.com/p/5358f587af38" target="_blank" rel="external">UIImage加载图片的方式以及Images.xcassets对于加载方法的影响</a></p>
<p><a href="http://blog.csdn.net/liufan321/article/details/9121241" target="_blank" rel="external">iOS7初体验(3)——图像资源Images Assets</a></p>
<p><a href="https://developer.apple.com/reference/uikit/uiimageasset" target="_blank" rel="external">官方文档</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://sangnihao.com/2017/05/13/同步设备过程中的坑/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="涛涛">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="桑尼号&好尼桑">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/13/同步设备过程中的坑/" itemprop="url">同步设备过程中的用到的git命令</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-13T08:39:13+08:00">
                2017-05-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="查看git远程仓库地址"><a href="#查看git远程仓库地址" class="headerlink" title="查看git远程仓库地址"></a>查看git远程仓库地址</h3><p><code>git remote -v</code></p>
<h3 id="查看本地分支和远程分支的关联联系"><a href="#查看本地分支和远程分支的关联联系" class="headerlink" title="查看本地分支和远程分支的关联联系"></a>查看本地分支和远程分支的关联联系</h3><p><code>git branch -vv</code></p>
<hr>
<h3 id="关于Submodules"><a href="#关于Submodules" class="headerlink" title="关于Submodules"></a>关于Submodules</h3><p>之前每次使用 <code>git add .</code>之后再用<code>git status</code>查看发现有这样的提示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">Changes not staged for commit:</div><div class="line">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</div><div class="line">  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</div><div class="line">  (commit or discard the untracked or modified content in submodules)</div><div class="line"></div><div class="line">	modified:   blog (modified content)</div><div class="line"></div><div class="line">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</div></pre></td></tr></table></figure>
<p>之前显然已经添加过了（<code>git add .</code>），按道理讲不应该有<code>changes not staged for commit</code>的提示了，为什么还有呢，原来是因为可能要提交的内容里面还包含<code>.git</code>（也就是git的子模块，引用的第三方中的git之类的），这就是为什么造成每次提交的时候都会有新修改的内容，导致上面的情况。</p>
<p>关于这方面的内容可以查看这里：</p>
<p><a href="http://stackoverflow.com/questions/10721624/github-changes-not-staged-for-commit" target="_blank" rel="external">github changes not staged for commit
</a></p>
<p><a href="https://git-scm.com/book/en/v2/Git-Tools-Submodules" target="_blank" rel="external">官网部分</a></p>
<h3 id="Windows一直同步不下来。"><a href="#Windows一直同步不下来。" class="headerlink" title="Windows一直同步不下来。"></a>Windows一直同步不下来。</h3><p>纳闷，在MAC上我已经提交过了，但是Windows上新建的本地空仓库，不知道为什么无法同步远程仓库的内容，每次<code>git pull</code>的时候，提示<code>Already up-to-date</code>，但是本地仓库里面什么文件也没有</p>
<p>EveryThing is ok ？</p>
<p>这里提到<a href="http://www.tuicool.com/articles/zeaQjav" target="_blank" rel="external">Git问题Everything up-to-date解决</a>,但是说实在的，这显然不是我的问题，并且我发现就算是我在本地的_post中更改了文件的内容，检查本地的<code>git status</code> 仍会提示<code>nothing to commit, working tree clean</code> Bug中的Bug啊？</p>
<p>最终我的解决方案是：重新新建了一个.git 并且，强制本地仓库覆盖远程仓库 <code>git push -f origin master</code> .</p>
<p>另外在这里可以看到:<a href="https://segmentfault.com/a/1190000002783245" target="_blank" rel="external">Git push与pull的默认行为</a></p>
<h3 id="git回退工作区内容"><a href="#git回退工作区内容" class="headerlink" title="git回退工作区内容"></a>git回退工作区内容</h3><p><a href="http://blog.csdn.net/u013485584/article/details/53319044" target="_blank" rel="external">git 撤销对工作区中文件的修改</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://sangnihao.com/2017/05/12/搭建自己博客/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="涛涛">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="桑尼号&好尼桑">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/12/搭建自己博客/" itemprop="url">搭建自己博客</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-12T11:47:05+08:00">
                2017-05-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/配置/" itemprop="url" rel="index">
                    <span itemprop="name">配置</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/配置/hexo/" itemprop="url" rel="index">
                    <span itemprop="name">hexo</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="基础的搭建工作"><a href="#基础的搭建工作" class="headerlink" title="基础的搭建工作"></a>基础的搭建工作</h2><p>v</p>
<h3 id="下载和安装hexo"><a href="#下载和安装hexo" class="headerlink" title="下载和安装hexo"></a>下载和安装<a href="https://hexo.io/docs/configuration.html" target="_blank" rel="external">hexo</a></h3><p><code>$ npm install -g hexo-cli</code></p>
<h3 id="验证是否安装成功"><a href="#验证是否安装成功" class="headerlink" title="验证是否安装成功"></a>验证是否安装成功</h3><p><code>$ hexo</code><br><img src="http://upload-images.jianshu.io/upload_images/291600-34e4d1af45d6f267.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="hexo安装成功图"></p>
<h3 id="初始化博客"><a href="#初始化博客" class="headerlink" title="初始化博客"></a>初始化博客</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">// 建立一个博客文件夹，并初始化博客，&lt;folder&gt;为文件夹的名称，可以随便起名字</div><div class="line">$ hexo init &lt;folder&gt;  //注意没有有&lt;&gt;，如果这里不写文件名的话，将会在当前目录下初始化，写了会新建一个子文件夹</div><div class="line">// 进入博客文件夹，&lt;folder&gt;为文件夹的名称</div><div class="line">$ cd &lt;folder&gt;</div><div class="line">// node.js的命令，根据博客既定的dependencies配置安装所有的依赖包</div><div class="line">$ npm install (这个是必须的，我之前因为没有执行这个，一直还纳闷public文件夹怎么没有呢，后来发现不是public文件夹的问题，而是没有执行这个命令)</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'load'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'window loaded'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="发布博客"><a href="#发布博客" class="headerlink" title="发布博客"></a>发布博客</h3><p>这个很简单， <code>hexo generate</code> 一条命令生成静态站点。可以使用缩写 <code>hexo g</code>，还可以显示你修改的文件并且重新生成，使用命令 <code>hexo g --watch</code> ，还用两种用法可以跟部署结合起来，<code>hexo g -d</code> or <code>hexo d -g</code>(<code>hexo generate</code> 和<code>hexo deploy</code>)，指的是生成后马上部署站点。</p>
<h3 id="一些小问题（Mark）"><a href="#一些小问题（Mark）" class="headerlink" title="一些小问题（Mark）"></a>一些小问题（Mark）</h3><p>执行hexo server提示找不到该指令，在Hexo 3.0 后server被单独出来了，需要安装server，安装的命令如下：npm install hexo-server –save 安装此server后再试，问题解决。</p>
<h3 id="可参考："><a href="#可参考：" class="headerlink" title="可参考："></a>可参考：</h3><p><a href="http://www.jianshu.com/p/e99ed60390a8" target="_blank" rel="external">20分钟教你使用hexo搭建github博客</a></p>
<p><a href="http://www.tuicool.com/articles/uE7FJba/" target="_blank" rel="external">搭建hexo博客并部署到github上</a></p>
<p><a href="http://chitanda.me/2015/06/18/hexo-sync-in-multiple-pc/" target="_blank" rel="external">利用git解决hexo博客多PC间同步问题</a></p>
<p><a href="http://www.tuicool.com/articles/zeIZJzv" target="_blank" rel="external">hexo博客更换主题</a></p>
<p><a href="http://lowrank.science/Hexo-Github/" target="_blank" rel="external">知行合一 | 用 Hexo 搭建博客</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="涛涛" />
          <p class="site-author-name" itemprop="name">涛涛</p>
           
              <p class="site-description motion-element" itemprop="description">嘿嘿，我的小窝</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2017.5.10 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">涛涛</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  









  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/three/three.min.js"></script>

  
  <script type="text/javascript" src="/lib/three/three-waves.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

</body>
</html>
